var ue=Object.defineProperty,fe=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var U=(e,o,r)=>o in e?ue(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,m=(e,o)=>{for(var r in o||(o={}))be.call(o,r)&&U(e,r,o[r]);if(K)for(var r of K(o))we.call(o,r)&&U(e,r,o[r]);return e},H=(e,o)=>fe(e,ge(o));var x=(e,o,r)=>new Promise((c,i)=>{var p=l=>{try{a(r.next(l))}catch(d){i(d)}},t=l=>{try{a(r.throw(l))}catch(d){i(d)}},a=l=>l.done?c(l.value):Promise.resolve(l.value).then(p,t);a((r=r.apply(e,o)).next())});import{c as Y,a as A,b as E,f as b,aP as z,aQ as y,o as f,h as $,F as he,b9 as g,aR as P,p as w,q as R,t as S,aU as T,aS as B,n as C,bc as Z,dI as ve,aK as L,i as Q,j as N,bw as me,r as D,cy as ye,a1 as W,dD as G,k as n,ag as _,cw as De,af as ee,b3 as te,bK as Ce,bN as J,w as ke,aW as _e,aV as $e,bi as Be,b8 as O,m as re,c7 as oe,cC as Pe,aj as Se,dC as ae,E as Te,cx as Oe}from"./index.0d073eaa.js";import{D as Fe}from"./index.c9bfdeac.js";import{A as Ve}from"./ArrowLeftOutlined.90d2e05e.js";const{t:X}=Y(),se={confirmLoading:{type:Boolean},showCancelBtn:{type:Boolean,default:!0},cancelButtonProps:Object,cancelText:{type:String,default:X("common.cancelText")},showOkBtn:{type:Boolean,default:!0},okButtonProps:Object,okText:{type:String,default:X("common.okText")},okType:{type:String,default:"primary"},showFooter:{type:Boolean},footerHeight:{type:[String,Number],default:60}},He=m({isDetail:{type:Boolean},title:{type:String,default:""},loadingText:{type:String},showDetailBack:{type:Boolean,default:!0},visible:{type:Boolean},loading:{type:Boolean},maskClosable:{type:Boolean,default:!0},getContainer:{type:[Object,String]},closeFunc:{type:[Function,Object],default:null},destroyOnClose:{type:Boolean}},se);const Le=A({name:"BasicDrawerFooter",props:H(m({},se),{height:{type:String,default:"60px"}}),emits:["ok","close"],setup(e,{emit:o}){const{prefixCls:r}=E("basic-drawer-footer"),c=b(()=>{const t=`${e.height}`;return{height:t,lineHeight:`calc(${t} - 1px)`}});function i(){o("ok")}function p(){o("close")}return{handleOk:i,prefixCls:r,handleClose:p,getStyle:c}}});function Re(e,o,r,c,i,p){const t=y("a-button");return e.showFooter||e.$slots.footer?(f(),$("div",{key:0,class:C(e.prefixCls),style:Z(e.getStyle)},[e.$slots.footer?g(e.$slots,"footer",{key:1}):(f(),$(he,{key:0},[g(e.$slots,"insertFooter"),e.showCancelBtn?(f(),P(t,T({key:0},e.cancelButtonProps,{onClick:e.handleClose,class:"mr-2"}),{default:w(()=>[R(S(e.cancelText),1)]),_:1},16,["onClick"])):B("",!0),g(e.$slots,"centerFooter"),e.showOkBtn?(f(),P(t,T({key:1,type:e.okType,onClick:e.handleOk},e.okButtonProps,{class:"mr-2",loading:e.confirmLoading}),{default:w(()=>[R(S(e.okText),1)]),_:1},16,["type","onClick","loading"])):B("",!0),g(e.$slots,"appendFooter")],64))],6)):B("",!0)}var Ne=z(Le,[["render",Re]]);const je=A({name:"BasicDrawerHeader",components:{BasicTitle:ve,ArrowLeftOutlined:Ve},props:{isDetail:L.bool,showDetailBack:L.bool,title:L.string},emits:["close"],setup(e,{emit:o}){const{prefixCls:r}=E("basic-drawer-header");function c(){o("close")}return{prefixCls:r,handleClose:c}}}),Ae={key:1};function Ee(e,o,r,c,i,p){const t=y("BasicTitle"),a=y("ArrowLeftOutlined");return e.isDetail?(f(),$("div",{key:1,class:C([e.prefixCls,`${e.prefixCls}--detail`])},[Q("span",{class:C(`${e.prefixCls}__twrap`)},[e.showDetailBack?(f(),$("span",{key:0,onClick:o[0]||(o[0]=(...l)=>e.handleClose&&e.handleClose(...l))},[N(a,{class:C(`${e.prefixCls}__back`)},null,8,["class"])])):B("",!0),e.title?(f(),$("span",Ae,S(e.title),1)):B("",!0)],2),Q("span",{class:C(`${e.prefixCls}__toolbar`)},[g(e.$slots,"titleToolbar")],2)],2)):(f(),P(t,{key:0,class:C(e.prefixCls)},{default:w(()=>[g(e.$slots,"title"),R(" "+S(e.$slots.title?"":e.title),1)]),_:3},8,["class"]))}var ze=z(je,[["render",Ee]]);const Ie=A({components:{Drawer:Fe,ScrollContainer:me,DrawerFooter:Ne,DrawerHeader:ze},inheritAttrs:!1,props:He,emits:["visible-change","ok","close","register"],setup(e,{emit:o}){const r=D(!1),c=ye(),i=D(null),{t:p}=Y(),{prefixVar:t,prefixCls:a}=E("basic-drawer"),l={setDrawerProps:ce,emitVisible:void 0},d=O();d&&o("register",l,d.uid);const v=b(()=>G(_(e),n(i))),h=b(()=>{const s=H(m(m({placement:"right"},n(c)),n(v)),{visible:n(r)});s.title=void 0;const{isDetail:u,width:V,wrapClassName:q,getContainer:pe}=s;if(u){V||(s.width="100%");const M=`${a}__detail`;s.class=q?`${q} ${M}`:M,pe||(s.getContainer=`.${t}-layout-content`)}return s}),F=b(()=>m(m({},c),n(h))),I=b(()=>{const{footerHeight:s,showFooter:u}=n(h);return u&&s?De(s)?`${s}px`:`${s.replace("px","")}px`:"0px"}),ne=b(()=>{const s=n(I);return{position:"relative",height:`calc(100% - ${s})`}}),ie=b(()=>{var s;return!!((s=n(h))!=null&&s.loading)});W(()=>e.visible,(s,u)=>{s!==u&&(r.value=s)},{deep:!0}),W(()=>r.value,s=>{ee(()=>{var u;o("visible-change",s),d&&((u=l.emitVisible)==null||u.call(l,s,d.uid))})});function le(s){return x(this,null,function*(){const{closeFunc:u}=n(h);if(o("close",s),u&&te(u)){const V=yield u();r.value=!V;return}r.value=!1})}function ce(s){i.value=G(n(i)||{},s),Reflect.has(s,"visible")&&(r.value=!!s.visible)}function de(){o("ok")}return{onClose:le,t:p,prefixCls:a,getMergeProps:v,getScrollContentStyle:ne,getProps:h,getLoading:ie,getBindValues:F,getFooterHeight:I,handleOk:de}}});function qe(e,o,r,c,i,p){const t=y("DrawerHeader"),a=y("ScrollContainer"),l=y("DrawerFooter"),d=y("Drawer"),v=Ce("loading");return f(),P(d,T({class:e.prefixCls,onClose:e.onClose},e.getBindValues),J({default:w(()=>[ke((f(),P(a,{style:Z(e.getScrollContentStyle),"loading-tip":e.loadingText||e.t("common.loadingText")},{default:w(()=>[g(e.$slots,"default")]),_:3},8,["style","loading-tip"])),[[v,e.getLoading]]),N(l,T(e.getProps,{onClose:e.onClose,onOk:e.handleOk,height:e.getFooterHeight}),J({_:2},[_e(Object.keys(e.$slots),h=>({name:h,fn:w(F=>[g(e.$slots,h,$e(Be(F||{})))])}))]),1040,["onClose","onOk","height"])]),_:2},[e.$slots.title?{name:"title",fn:w(()=>[g(e.$slots,"title")])}:{name:"title",fn:w(()=>[N(t,{title:e.getMergeProps.title,isDetail:e.isDetail,showDetailBack:e.showDetailBack,onClose:e.onClose},{titleToolbar:w(()=>[g(e.$slots,"titleToolbar")]),_:3},8,["title","isDetail","showDetailBack","onClose"])])}]),1040,["class","onClose"])}var Me=z(Ie,[["render",qe]]);const k=re({}),j=re({});function We(){if(!O())throw new Error("useDrawer() can only be used inside setup() or functional components!");const e=D(null),o=D(!1),r=D("");function c(t,a){oe(()=>{e.value=null,o.value=null,k[n(r)]=null}),!(n(o)&&Pe()&&t===n(e))&&(r.value=a,e.value=t,o.value=!0,t.emitVisible=(l,d)=>{j[d]=l})}const i=()=>{const t=n(e);return t||ae("useDrawer instance is undefined!"),t},p={setDrawerProps:t=>{var a;(a=i())==null||a.setDrawerProps(t)},getVisible:b(()=>j[~~n(r)]),openDrawer:(t=!0,a,l=!0)=>{var v;if((v=i())==null||v.setDrawerProps({visible:t}),!a)return;if(l){k[n(r)]=null,k[n(r)]=_(a);return}Se(_(k[n(r)]),_(a))||(k[n(r)]=_(a))},closeDrawer:()=>{var t;(t=i())==null||t.setDrawerProps({visible:!1})}};return[c,p]}const Ge=e=>{const o=D(null),r=O(),c=D("");if(!O())throw new Error("useDrawerInner() can only be used inside setup() or functional components!");const i=()=>{const t=n(o);if(!t){ae("useDrawerInner instance is undefined!");return}return t},p=(t,a)=>{oe(()=>{o.value=null}),c.value=a,o.value=t,r==null||r.emit("register",t,a)};return Te(()=>{const t=k[n(c)];!t||!e||!te(e)||ee(()=>{e(t)})}),[p,{changeLoading:(t=!0)=>{var a;(a=i())==null||a.setDrawerProps({loading:t})},changeOkLoading:(t=!0)=>{var a;(a=i())==null||a.setDrawerProps({confirmLoading:t})},getVisible:b(()=>j[~~n(c)]),closeDrawer:()=>{var t;(t=i())==null||t.setDrawerProps({visible:!1})},setDrawerProps:t=>{var a;(a=i())==null||a.setDrawerProps(t)}}]},Je=Oe(Me);export{Je as B,Ge as a,We as u};
